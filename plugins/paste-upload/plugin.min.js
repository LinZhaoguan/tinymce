!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e){var t=void 0,a=void 0;for(t=0;t<e.clipboardData.items.length;){if(a=e.clipboardData.items[t],-1!==a.type.indexOf("image"))return a;t++}return!1}function a(t,a){var o=void 0,i=void 0;o=new XMLHttpRequest,o.withCredentials=!1;var l=e.settings.pasteUploadConfig;if(o.open("POST",l.url),l.headers&&l.headers.length>0){var c=!0,u=!1,s=void 0;try{for(var d,f=l.headers[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;o.setRequestHeader(p.name,p.value)}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}}o.onload=function(){var e=void 0;if(e=JSON.parse(o.responseText),200!==o.status)return alert("上传失败"),void n(a);if(e.success)if(l.diyExtractUrl){var t=l.extractUrlFun(e);r(t)}else r(e.data.fullUrl);else n(a)},i=new FormData,i.append("file",t),o.send(i)}function r(t){var a=e.getContent();a=a.replace(i,'<img src="'+t+'">'),e.setContent(a),e.selection.select(e.getBody(),!0),e.selection.collapse(!1)}function n(t){var a=e.getContent();a=a.replace(i,t),e.setContent(a),e.selection.select(e.getBody(),!0),e.selection.collapse(!1)}function o(e){var t=void 0;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),t=t.split("\r"),t[0]}var i='<img id="loadingImg" src="http://cos.qdqcwy.cn/group1/M00/00/00/rBHIsFtz4TSAJ1P0AAAUUF6elKk222.gif" alt="" />';e.on("Paste",function(r){var n=void 0,l=void 0;if(l=r,l.clipboardData&&l.clipboardData.items&&(n=t(l)))return r.preventDefault(),e.execCommand("mceInsertContent",!1,i),a(n.getAsFile(),o(l))})};t.default=r},function(e,t,a){"use strict";var r=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r);tinymce.PluginManager.add("paste-upload",n.default)}]);